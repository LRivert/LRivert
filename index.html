<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>星座查询 - 太阳/月亮/上升星座运势</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    
    <!-- 配置Tailwind自定义主题 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#86a8e7',
                        secondary: '#91eae4',
                        accent: '#ff7e5f',
                        dark: '#1a2a6c',
                        light: '#f8f9fa',
                        star: '#ffd700',
                        sun: '#ffb74d',
                        moon: '#90a4ae',
                        rising: '#81d4fa'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    animation: {
                        'twinkle': 'twinkle 3s infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        twinkle: {
                            '0%, 100%': { opacity: 0.5 },
                            '50%': { opacity: 1 },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style type="text/tailwindcss">
        @layer utilities {
            .star-bg {
                background-image: 
                    radial-gradient(2px 2px at 20px 30px, #fff, rgba(0,0,0,0)),
                    radial-gradient(2px 2px at 40px 70px, #fff, rgba(0,0,0,0)),
                    radial-gradient(2px 2px at 50px 160px, #fff, rgba(0,0,0,0)),
                    radial-gradient(2px 2px at 90px 40px, #fff, rgba(0,0,0,0)),
                    radial-gradient(2px 2px at 130px 80px, #fff, rgba(0,0,0,0));
                background-repeat: repeat;
                background-size: 200px 200px;
            }
            .glass {
                backdrop-filter: blur(10px);
                background-color: rgba(255, 255, 255, 0.05);
            }
            .constellation {
                background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><path d="M100,20 L120,80 L180,80 L130,120 L150,180 L100,140 L50,180 L70,120 L20,80 L80,80 Z" fill="none" stroke="white" stroke-width="1" opacity="0.1"/></svg>');
                background-position: center;
                background-repeat: no-repeat;
                background-size: contain;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-dark to-gray-900 text-light star-bg">
    <!-- 页面头部 -->
    <header class="relative py-8 px-4 sm:px-6 lg:px-8 text-center constellation">
        <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold bg-gradient-to-r from-accent via-star to-primary bg-clip-text text-transparent mb-4 animate-float">
            星座运势查询
        </h1>
        <p class="text-gray-300 max-w-2xl mx-auto">
            输入你的出生信息，探索你的太阳、月亮和上升星座，获取专属运势解读
        </p>
        <div class="absolute top-0 left-0 w-full h-full opacity-20 pointer-events-none"></div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20">
        <!-- 查询表单区域 -->
        <section class="glass rounded-2xl p-6 md:p-8 mb-10 border border-white/10 shadow-xl">
            <form id="astroForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- 出生日期 -->
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-300" for="birthDate">
                            <i class="fa fa-calendar mr-2"></i>出生日期
                        </label>
                        <input 
                            type="date" 
                            id="birthDate" 
                            class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-light transition-all"
                            required
                        >
                    </div>
                    
                    <!-- 出生时间 -->
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-300" for="birthTime">
                            <i class="fa fa-clock-o mr-2"></i>出生时间
                        </label>
                        <input 
                            type="time" 
                            id="birthTime" 
                            class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-light transition-all"
                            required
                        >
                    </div>
                    
                    <!-- 出生地点 -->
                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-300" for="birthPlace">
                            <i class="fa fa-map-marker mr-2"></i>出生地点 (可选)
                        </label>
                        <input 
                            type="text" 
                            id="birthPlace" 
                            placeholder="例如：北京"
                            class="w-full px-4 py-3 rounded-lg bg-white/5 border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-light transition-all"
                        >
                    </div>
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <input 
                            type="checkbox" 
                            id="saveInfo" 
                            class="w-4 h-4 rounded bg-white/5 border border-white/20 text-primary focus:ring-primary/50"
                            checked
                        >
                        <label for="saveInfo" class="ml-2 text-sm text-gray-300">保存查询信息</label>
                    </div>
                    
                    <div class="space-x-3">
                        <button 
                            type="button" 
                            id="resetBtn"
                            class="px-6 py-3 rounded-lg border border-white/20 hover:bg-white/10 transition-colors text-sm font-medium"
                        >
                            重置
                        </button>
                        <button 
                            type="submit"
                            class="px-8 py-3 rounded-lg bg-gradient-to-r from-primary to-secondary text-dark font-medium hover:opacity-90 transition-opacity shadow-lg hover:shadow-primary/20"
                        >
                            <i class="fa fa-search mr-2"></i>查询星座运势
                        </button>
                    </div>
                </div>
                
                <div class="text-xs text-gray-400 mt-4">
                    <i class="fa fa-info-circle mr-1"></i> 
                    注：查询结果仅供娱乐参考，出生时间越准确，上升星座结果越精准
                </div>
            </form>
        </section>
        
        <!-- 加载动画 -->
        <div id="loading" class="hidden flex justify-center py-10">
            <div class="relative">
                <div class="w-16 h-16 border-4 border-primary/30 border-t-primary rounded-full animate-spin"></div>
                <div class="absolute inset-0 flex items-center justify-center">
                    <i class="fa fa-star text-star animate-pulse-slow"></i>
                </div>
            </div>
        </div>
        
        <!-- 结果展示区域 -->
        <section id="resultSection" class="hidden space-y-10">
            <!-- 星座概览卡片 -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- 太阳星座卡片 -->
                <div class="glass rounded-2xl p-6 border border-white/10 shadow-lg relative overflow-hidden group hover:shadow-sun/20 transition-all hover:-translate-y-1">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-sun to-accent"></div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-lg font-semibold flex items-center">
                                <i class="fa fa-sun-o text-sun mr-2"></i>太阳星座
                            </h3>
                            <p class="text-sm text-gray-400">核心自我 · 本质性格</p>
                        </div>
                        <div class="text-3xl font-bold text-sun opacity-80 group-hover:scale-110 transition-transform" id="sunSignSymbol">♈</div>
                    </div>
                    <div class="space-y-3">
                        <h4 class="text-xl font-bold" id="sunSignName">白羊座</h4>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">守护星：</span>
                                <span id="sunRulingPlanet">火星</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">元素：</span>
                                <span id="sunElement">火象</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">模式：</span>
                                <span id="sunMode">本位</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">关键词：</span>
                                <span id="sunKeywords">热情、冲动、领导力</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 月亮星座卡片 -->
                <div class="glass rounded-2xl p-6 border border-white/10 shadow-lg relative overflow-hidden group hover:shadow-moon/20 transition-all hover:-translate-y-1">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-moon to-primary"></div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-lg font-semibold flex items-center">
                                <i class="fa fa-moon-o text-moon mr-2"></i>月亮星座
                            </h3>
                            <p class="text-sm text-gray-400">情感需求 · 内在情绪</p>
                        </div>
                        <div class="text-3xl font-bold text-moon opacity-80 group-hover:scale-110 transition-transform" id="moonSignSymbol">♌</div>
                    </div>
                    <div class="space-y-3">
                        <h4 class="text-xl font-bold" id="moonSignName">狮子座</h4>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">守护星：</span>
                                <span id="moonRulingPlanet">太阳</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">元素：</span>
                                <span id="moonElement">火象</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">模式：</span>
                                <span id="moonMode">固定</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">关键词：</span>
                                <span id="moonKeywords">自信、慷慨、戏剧性</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 上升星座卡片 -->
                <div class="glass rounded-2xl p-6 border border-white/10 shadow-lg relative overflow-hidden group hover:shadow-rising/20 transition-all hover:-translate-y-1">
                    <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-rising to-secondary"></div>
                    <div class="flex justify-between items-start mb-4">
                        <div>
                            <h3 class="text-lg font-semibold flex items-center">
                                <i class="fa fa-arrow-up text-rising mr-2"></i>上升星座
                            </h3>
                            <p class="text-sm text-gray-400">外在形象 · 人生面具</p>
                        </div>
                        <div class="text-3xl font-bold text-rising opacity-80 group-hover:scale-110 transition-transform" id="risingSignSymbol">♎</div>
                    </div>
                    <div class="space-y-3">
                        <h4 class="text-xl font-bold" id="risingSignName">天秤座</h4>
                        <div class="grid grid-cols-2 gap-2 text-sm">
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">守护星：</span>
                                <span id="risingRulingPlanet">金星</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">元素：</span>
                                <span id="risingElement">风象</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">模式：</span>
                                <span id="risingMode">本位</span>
                            </div>
                            <div class="bg-white/5 rounded p-2">
                                <span class="text-gray-400">关键词：</span>
                                <span id="risingKeywords">平衡、和谐、外交</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 星座组合分析 -->
            <div class="glass rounded-2xl p-6 md:p-8 border border-white/10 shadow-lg">
                <h3 class="text-xl font-semibold mb-4 flex items-center">
                    <i class="fa fa-lightbulb-o text-star mr-2"></i>星座组合分析
                </h3>
                <div class="text-gray-200 leading-relaxed" id="combinationAnalysis">
                    你的太阳白羊、月亮狮子、上升天秤组合形成了一个充满活力又注重平衡的性格特质。白羊座的热情冲动与狮子座的自信领导力相结合，让你在人群中总是引人注目；而天秤座的上升星座则为你增添了外交手腕和审美眼光，使你能够在坚持自我的同时保持和谐的人际关系。这种组合让你既有开创事业的勇气，又具备处理复杂情感的能力，是天生的领导者和协调者。
                </div>
            </div>
            
            <!-- 运势模块 -->
            <div class="glass rounded-2xl p-6 md:p-8 border border-white/10 shadow-lg">
                <div class="flex flex-wrap items-center justify-between mb-6 gap-4">
                    <h3 class="text-xl font-semibold flex items-center">
                        <i class="fa fa-star text-star mr-2"></i>专属运势
                    </h3>
                    
                    <div class="flex border border-white/20 rounded-lg overflow-hidden">
                        <button class="fortune-tab px-4 py-2 text-sm font-medium bg-primary text-dark" data-period="today">今日</button>
                        <button class="fortune-tab px-4 py-2 text-sm font-medium hover:bg-white/5 transition-colors" data-period="week">本周</button>
                        <button class="fortune-tab px-4 py-2 text-sm font-medium hover:bg-white/5 transition-colors" data-period="month">本月</button>
                    </div>
                </div>
                
                <!-- 运势内容区域 -->
                <div class="space-y-8">
                    <!-- 太阳星座运势 -->
                    <div class="fortune-content" id="todayFortune">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <!-- 太阳运势 -->
                            <div class="bg-white/5 rounded-xl p-5 border border-sun/20">
                                <h4 class="text-lg font-medium text-sun mb-3 flex items-center">
                                    <i class="fa fa-sun-o mr-2"></i>太阳星座运势
                                </h4>
                                <div class="space-y-3">
                                    <div>
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm text-gray-400">幸运指数</span>
                                            <span class="text-star font-medium">★★★★☆</span>
                                        </div>
                                        <div class="w-full bg-white/10 rounded-full h-2">
                                            <div class="bg-gradient-to-r from-sun to-accent h-2 rounded-full" style="width: 80%"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">核心状态：</span>
                                        <p>精力充沛，适合开展新项目或重要决策</p>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">事业学业：</span>
                                        <p>工作中表现突出，团队合作顺利，有机会获得领导赏识</p>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">人际互动：</span>
                                        <p>社交场合活跃，新朋友带来新机遇，注意避免过于自我</p>
                                    </div>
                                    
                                    <div class="flex flex-wrap gap-2 mt-3">
                                        <span class="px-2 py-1 bg-sun/20 text-xs rounded-full">幸运色：红色</span>
                                        <span class="px-2 py-1 bg-sun/20 text-xs rounded-full">幸运数字：9</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 月亮运势 -->
                            <div class="bg-white/5 rounded-xl p-5 border border-moon/20">
                                <h4 class="text-lg font-medium text-moon mb-3 flex items-center">
                                    <i class="fa fa-moon-o mr-2"></i>月亮星座运势
                                </h4>
                                <div class="space-y-3">
                                    <div>
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm text-gray-400">情绪指数</span>
                                            <span class="text-star font-medium">★★★☆☆</span>
                                        </div>
                                        <div class="w-full bg-white/10 rounded-full h-2">
                                            <div class="bg-gradient-to-r from-moon to-primary h-2 rounded-full" style="width: 60%"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">情绪状态：</span>
                                        <p>情绪波动较大，上午积极下午略显低落，需自我调节</p>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">情感需求：</span>
                                        <p>渴望被认可和赞美，与家人相处时间增加会带来满足感</p>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">亲密关系：</span>
                                        <p>伴侣间沟通顺畅，适合讨论未来规划，避免控制欲过强</p>
                                    </div>
                                    
                                    <div class="flex flex-wrap gap-2 mt-3">
                                        <span class="px-2 py-1 bg-moon/20 text-xs rounded-full">幸运色：金色</span>
                                        <span class="px-2 py-1 bg-moon/20 text-xs rounded-full">幸运数字：5</span>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 上升运势 -->
                            <div class="bg-white/5 rounded-xl p-5 border border-rising/20">
                                <h4 class="text-lg font-medium text-rising mb-3 flex items-center">
                                    <i class="fa fa-arrow-up mr-2"></i>上升星座运势
                                </h4>
                                <div class="space-y-3">
                                    <div>
                                        <div class="flex justify-between items-center mb-1">
                                            <span class="text-sm text-gray-400">机遇指数</span>
                                            <span class="text-star font-medium">★★★★★</span>
                                        </div>
                                        <div class="w-full bg-white/10 rounded-full h-2">
                                            <div class="bg-gradient-to-r from-rising to-secondary h-2 rounded-full" style="width: 90%"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">外在表现：</span>
                                        <p>形象良好，谈吐得体，给人留下深刻印象</p>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">机遇挑战：</span>
                                        <p>社交场合有贵人相助，合作机会增多，需把握谈判时机</p>
                                    </div>
                                    
                                    <div class="text-sm">
                                        <span class="text-gray-400 block mb-1">社交建议：</span>
                                        <p>参加文化艺术类活动，拓展人脉圈，展现你的审美品味</p>
                                    </div>
                                    
                                    <div class="flex flex-wrap gap-2 mt-3">
                                        <span class="px-2 py-1 bg-rising/20 text-xs rounded-full">幸运色：蓝色</span>
                                        <span class="px-2 py-1 bg-rising/20 text-xs rounded-full">幸运数字：6</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 运势总结 -->
                        <div class="mt-6 bg-white/5 rounded-xl p-5">
                            <h4 class="text-md font-medium mb-2 flex items-center">
                                <i class="fa fa-info-circle text-primary mr-2"></i>今日运势总结
                            </h4>
                            <p class="text-sm">
                                今天整体运势良好，尤其适合开展新计划和社交活动。事业上有突破性进展，人际关系和谐，但需注意情绪管理，避免因冲动做出决定。
                                财务方面稳定，可考虑小额投资或理财规划。健康上注意休息，避免过度劳累。
                            </p>
                        </div>
                    </div>
                    
                    <!-- 本周运势 (默认隐藏) -->
                    <div class="fortune-content hidden" id="weekFortune">
                        <!-- 本周运势内容 -->
                        <div class="space-y-6">
                            <div class="bg-white/5 rounded-xl p-5">
                                <h4 class="text-lg font-medium mb-3">本周整体运势</h4>
                                <p class="text-gray-200">
                                    本周整体运势稳步上升，尤其是在事业和人际关系方面。周初适合规划和准备，周中开始行动，周末收获成果。
                                    注意周三和周四可能出现的小波折，保持冷静应对即可。
                                </p>
                            </div>
                            
                            <!-- 分星座运势 -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div class="bg-white/5 rounded-xl p-4 border border-sun/20">
                                    <h5 class="text-sun font-medium mb-2">太阳星座</h5>
                                    <p class="text-sm">事业运佳，团队合作带来突破，周五有重要会议或决策。</p>
                                </div>
                                <div class="bg-white/5 rounded-xl p-4 border border-moon/20">
                                    <h5 class="text-moon font-medium mb-2">月亮星座</h5>
                                    <p class="text-sm">情绪起伏，周中需关注家人健康，周末适合放松和自我提升。</p>
                                </div>
                                <div class="bg-white/5 rounded-xl p-4 border border-rising/20">
                                    <h5 class="text-rising font-medium mb-2">上升星座</h5>
                                    <p class="text-sm">社交活跃期，新认识的人可能带来长期合作机会，把握周二周四。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 本月运势 (默认隐藏) -->
                    <div class="fortune-content hidden" id="monthFortune">
                        <!-- 本月运势内容 -->
                        <div class="space-y-6">
                            <div class="bg-white/5 rounded-xl p-5">
                                <h4 class="text-lg font-medium mb-3">本月整体运势</h4>
                                <p class="text-gray-200">
                                    本月是充满机遇的一个月，尤其是在事业发展和财务规划方面。上半月适合开拓新领域，下半月巩固成果。
                                    月中水星逆行期间，注意沟通细节和电子设备维护。
                                </p>
                            </div>
                            
                            <!-- 重点日期提醒 -->
                            <div class="bg-white/5 rounded-xl p-5">
                                <h4 class="text-md font-medium mb-3">重点日期提醒</h4>
                                <ul class="space-y-2 text-sm">
                                    <li class="flex items-start">
                                        <span class="text-star mr-2">★</span>
                                        <span><strong>5日-7日：</strong>事业关键期，适合提出新项目或晋升申请</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-star mr-2">★</span>
                                        <span><strong>12日：</strong>水星逆行开始，重要决策延后</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-star mr-2">★</span>
                                        <span><strong>18日-20日：</strong>财务运势高峰，适合投资理财</span>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-star mr-2">★</span>
                                        <span><strong>25日：</strong>满月影响情绪，注意休息和放松</span>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 分享和订阅区域 -->
                <div class="mt-8 flex flex-wrap items-center justify-between gap-4">
                    <button id="subscribeBtn" class="px-4 py-2 rounded-lg border border-primary/50 text-primary hover:bg-primary/10 transition-colors text-sm flex items-center">
                        <i class="fa fa-bell mr-2"></i>订阅每日运势
                    </button>
                    
                    <div class="flex space-x-3">
                        <button class="w-10 h-10 rounded-full bg-[#1DA1F2]/10 border border-[#1DA1F2]/30 flex items-center justify-center hover:bg-[#1DA1F2]/20 transition-colors">
                            <i class="fa fa-twitter text-[#1DA1F2]"></i>
                        </button>
                        <button class="w-10 h-10 rounded-full bg-[#1877F2]/10 border border-[#1877F2]/30 flex items-center justify-center hover:bg-[#1877F2]/20 transition-colors">
                            <i class="fa fa-facebook text-[#1877F2]"></i>
                        </button>
                        <button class="w-10 h-10 rounded-full bg-[#25D366]/10 border border-[#25D366]/30 flex items-center justify-center hover:bg-[#25D366]/20 transition-colors">
                            <i class="fa fa-whatsapp text-[#25D366]"></i>
                        </button>
                        <button id="shareImageBtn" class="w-10 h-10 rounded-full bg-primary/10 border border-primary/30 flex items-center justify-center hover:bg-primary/20 transition-colors">
                            <i class="fa fa-share-alt text-primary"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- 历史记录区域 -->
            <div class="glass rounded-2xl p-6 border border-white/10 shadow-lg">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold flex items-center">
                        <i class="fa fa-history text-gray-400 mr-2"></i>查询历史
                    </h3>
                    <button id="clearHistoryBtn" class="text-sm text-gray-400 hover:text-gray-300 transition-colors">
                        清空历史
                    </button>
                </div>
                
                <div id="historyList" class="space-y-3">
                    <div class="bg-white/5 rounded-lg p-3 flex justify-between items-center">
                        <div>
                            <span class="text-sm font-medium">2024年5月15日</span>
                            <p class="text-xs text-gray-400">太阳白羊 · 月亮狮子 · 上升天秤</p>
                        </div>
                        <button class="text-xs text-primary hover:underline">查看</button>
                    </div>
                    <div class="bg-white/5 rounded-lg p-3 flex justify-between items-center">
                        <div>
                            <span class="text-sm font-medium">2024年5月10日</span>
                            <p class="text-xs text-gray-400">太阳白羊 · 月亮狮子 · 上升天秤</p>
                        </div>
                        <button class="text-xs text-primary hover:underline">查看</button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- 页脚 -->
    <footer class="mt-auto py-8 px-4 text-center text-gray-500 text-sm border-t border-white/10">
        <p>© 2024 星座运势查询 | 仅供娱乐参考，非专业占星指导</p>
        <p class="mt-2">隐私声明：我们不会存储您的个人敏感信息</p>
    </footer>
    
    <!-- 模态框 -->
    <div id="modal" class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden">
        <div class="glass rounded-2xl p-6 max-w-md w-full mx-4 border border-white/10">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold" id="modalTitle">订阅每日运势</h3>
                <button id="closeModalBtn" class="text-gray-400 hover:text-gray-200">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            
            <div id="modalContent">
                <form id="subscribeForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1" for="email">邮箱地址</label>
                        <input 
                            type="email" 
                            id="email" 
                            placeholder="your@email.com"
                            class="w-full px-4 py-2 rounded-lg bg-white/5 border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-light"
                            required
                        >
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-1" for="frequency">推送频率</label>
                        <select 
                            id="frequency" 
                            class="w-full px-4 py-2 rounded-lg bg-white/5 border border-white/20 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-light"
                        >
                            <option value="daily">每日</option>
                            <option value="weekly">每周</option>
                            <option value="monthly">每月</option>
                        </select>
                    </div>
                    
                    <button 
                        type="submit"
                        class="w-full py-2 rounded-lg bg-gradient-to-r from-primary to-secondary text-dark font-medium hover:opacity-90 transition-opacity"
                    >
                        确认订阅
                    </button>
                </form>
            </div>
        </div>
    </div>
    
    <script>
        // 星座数据
        const zodiacSigns = [
            { name: '白羊座', symbol: '♈', dates: '3.21-4.19', rulingPlanet: '火星', element: '火象', mode: '本位', keywords: '热情、冲动、领导力' },
            { name: '金牛座', symbol: '♉', dates: '4.20-5.20', rulingPlanet: '金星', element: '土象', mode: '固定', keywords: '稳定、务实、享受' },
            { name: '双子座', symbol: '♊', dates: '5.21-6.21', rulingPlanet: '水星', element: '风象', mode: '变动', keywords: '灵活、好奇、沟通' },
            { name: '巨蟹座', symbol: '♋', dates: '6.22-7.22', rulingPlanet: '月亮', element: '水象', mode: '本位', keywords: '敏感、保护、家庭' },
            { name: '狮子座', symbol: '♌', dates: '7.23-8.22', rulingPlanet: '太阳', element: '火象', mode: '固定', keywords: '自信、慷慨、戏剧性' },
            { name: '处女座', symbol: '♍', dates: '8.23-9.22', rulingPlanet: '水星', element: '土象', mode: '变动', keywords: '细致、分析、服务' },
            { name: '天秤座', symbol: '♎', dates: '9.23-10.23', rulingPlanet: '金星', element: '风象', mode: '本位', keywords: '平衡、和谐、外交' },
            { name: '天蝎座', symbol: '♏', dates: '10.24-11.22', rulingPlanet: '冥王星', element: '水象', mode: '固定', keywords: '深刻、转化、力量' },
            { name: '射手座', symbol: '♐', dates: '11.23-12.21', rulingPlanet: '木星', element: '火象', mode: '变动', keywords: '乐观、探索、哲学' },
            { name: '摩羯座', symbol: '♑', dates: '12.22-1.19', rulingPlanet: '土星', element: '土象', mode: '本位', keywords: '务实、纪律、成就' },
            { name: '水瓶座', symbol: '♒', dates: '1.20-2.18', rulingPlanet: '天王星', element: '风象', mode: '固定', keywords: '创新、独立、人道' },
            { name: '双鱼座', symbol: '♓', dates: '2.19-3.20', rulingPlanet: '海王星', element: '水象', mode: '变动', keywords: '直觉、同情、艺术' }
        ];
        
        // DOM元素
        const astroForm = document.getElementById('astroForm');
        const resultSection = document.getElementById('resultSection');
        const loading = document.getElementById('loading');
        const resetBtn = document.getElementById('resetBtn');
        const fortuneTabs = document.querySelectorAll('.fortune-tab');
        const fortuneContents = document.querySelectorAll('.fortune-content');
        const subscribeBtn = document.getElementById('subscribeBtn');
        const modal = document.getElementById('modal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const subscribeForm = document.getElementById('subscribeForm');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');
        const shareImageBtn = document.getElementById('shareImageBtn');
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 加载保存的信息
            loadSavedInfo();
            
            // 表单提交事件
            astroForm.addEventListener('submit', function(e) {
                e.preventDefault();
                calculateAstroInfo();
            });
            
            // 重置按钮
            resetBtn.addEventListener('click', function() {
                astroForm.reset();
                localStorage.removeItem('astroInfo');
            });
            
            // 运势标签切换
            fortuneTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const period = this.dataset.period;
                    
                    // 更新标签样式
                    fortuneTabs.forEach(t => {
                        t.classList.remove('bg-primary', 'text-dark');
                        t.classList.add('hover:bg-white/5');
                    });
                    this.classList.add('bg-primary', 'text-dark');
                    this.classList.remove('hover:bg-white/5');
                    
                    // 显示对应内容
                    fortuneContents.forEach(content => {
                        content.classList.add('hidden');
                    });
                    document.getElementById(`${period}Fortune`).classList.remove('hidden');
                });
            });
            
            // 订阅按钮
            subscribeBtn.addEventListener('click', function() {
                document.getElementById('modalTitle').textContent = '订阅每日运势';
                modal.classList.remove('hidden');
            });
            
            // 关闭模态框
            closeModalBtn.addEventListener('click', function() {
                modal.classList.add('hidden');
            });
            
            // 订阅表单提交
            subscribeForm.addEventListener('submit', function(e) {
                e.preventDefault();
                alert('订阅成功！每日运势将发送到您的邮箱。');
                modal.classList.add('hidden');
            });
            
            // 点击模态框外部关闭
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.add('hidden');
                }
            });
            
            // 清空历史
            clearHistoryBtn.addEventListener('click', function() {
                if (confirm('确定要清空查询历史吗？')) {
                    document.getElementById('historyList').innerHTML = '<p class="text-gray-400 text-sm">暂无查询历史</p>';
                }
            });
            
            // 分享图片按钮
            shareImageBtn.addEventListener('click', function() {
                document.getElementById('modalTitle').textContent = '生成运势海报';
                document.getElementById('modalContent').innerHTML = `
                    <div class="text-center py-4">
                        <div class="inline-block p-2 bg-white/5 rounded-lg mb-4">
                            <i class="fa fa-image text-4xl text-primary"></i>
                        </div>
                        <p class="mb-4">生成专属运势海报分享到社交平台</p>
                        <button class="px-4 py-2 rounded-lg bg-primary text-dark font-medium">
                            生成海报
                        </button>
                    </div>
                `;
                modal.classList.remove('hidden');
            });
        });
        
        // 加载保存的信息
        function loadSavedInfo() {
            const savedInfo = localStorage.getItem('astroInfo');
            if (savedInfo) {
                const info = JSON.parse(savedInfo);
                document.getElementById('birthDate').value = info.birthDate;
                document.getElementById('birthTime').value = info.birthTime;
                document.getElementById('birthPlace').value = info.birthPlace || '';
            }
        }
        
        // 计算星座信息
        function calculateAstroInfo() {
            // 显示加载动画
            loading.classList.remove('hidden');
            resultSection.classList.add('hidden');
            
            // 获取表单数据
            const birthDate = document.getElementById('birthDate').value;
            const birthTime = document.getElementById('birthTime').value;
            const birthPlace = document.getElementById('birthPlace').value;
            const saveInfo = document.getElementById('saveInfo').checked;
            
            // 保存信息
            if (saveInfo) {
                localStorage.setItem('astroInfo', JSON.stringify({
                    birthDate,
                    birthTime,
                    birthPlace
                }));
            }
            
            // 模拟计算延迟
            setTimeout(function() {
                // 随机生成星座（实际应用中需要真实的占星计算）
                const sunSign = getRandomSign();
                const moonSign = getRandomSign();
                const risingSign = getRandomSign();
                
                // 更新星座信息
                updateSignInfo('sun', sunSign);
                updateSignInfo('moon', moonSign);
                updateSignInfo('rising', risingSign);
                
                // 更新组合分析
                updateCombinationAnalysis(sunSign, moonSign, risingSign);
                
                // 隐藏加载动画，显示结果
                loading.classList.add('hidden');
                resultSection.classList.remove('hidden');
                
                // 滚动到结果区域
                resultSection.scrollIntoView({ behavior: 'smooth' });
            }, 1500);
        }
        
        // 获取随机星座
        function getRandomSign() {
            return zodiacSigns[Math.floor(Math.random() * zodiacSigns.length)];
        }
        
        // 更新星座信息
        function updateSignInfo(type, sign) {
            document.getElementById(`${type}SignSymbol`).textContent = sign.symbol;
            document.getElementById(`${type}SignName`).textContent = sign.name;
            document.getElementById(`${type}RulingPlanet`).textContent = sign.rulingPlanet;
            document.getElementById(`${type}Element`).textContent = sign.element;
            document.getElementById(`${type}Mode`).textContent = sign.mode;
            document.getElementById(`${type}Keywords`).textContent = sign.keywords;
        }
        
        // 更新组合分析
        function updateCombinationAnalysis(sun, moon, rising) {
            const combinations = [
                `你的太阳${sun.name}、月亮${moon.name}、上升${rising.name}组合形成了一个独特而丰富的性格图谱。${sun.name}的${sun.keywords.split('、')[0]}特质为你奠定了核心基调，${moon.name}的${moon.keywords.split('、')[0]}情感需求让你在亲密关系中展现出不同的一面，而${rising.name}的上升星座则赋予你${rising.keywords.split('、')[0]}的外在形象。这种组合让你既有内在的深度，又有外在的魅力，在不同场合都能展现出多面的个性。`,
                
                `${sun.name}的太阳星座赋予你天生的${sun.keywords.split('、')[0]}和${sun.keywords.split('、')[1]}，${moon.name}的月亮星座则让你在情感上追求${moon.keywords.split('、')[0]}，而${rising.name}的上升星座使你在社交场合中表现出${rising.keywords.split('、')[0]}的特质。三者结合，让你成为一个既有主见又懂得变通的人，能够平衡个人需求与他人期望。`,
                
                `太阳${sun.name}代表你的核心身份，${sun.element}元素赋予你${sun.keywords.split('、')[0]}的能量；月亮${moon.name}揭示你的情感世界，${moon.mode}模式让你在情绪处理上${moon.keywords.split('、')[0]}；上升${rising.name}塑造你的外在形象，${rising.rulingPlanet}的影响使你在与人交往中展现${rising.keywords.split('、')[0]}的特质。这种组合让你在个人成长和人际关系中都能找到独特的平衡点。`
            ];
            
            document.getElementById('combinationAnalysis').textContent = combinations[Math.floor(Math.random() * combinations.length)];
        }
    </script>
</body>
</html>